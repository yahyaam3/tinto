import{m as g,r as u,o as d,c as b,w as i,a as t,t as s,k as c,l as f,p,b as l,e as m,i as w,F as _}from"./app-78229063.js";import{S as h}from"./SidebarLayout-b4c334aa.js";import{_ as v}from"./_plugin-vue_export-helper-c27b6911.js";const k={components:{Link:g,SidebarLayout:h},props:{factura:Object},setup(){return{formatDate:o=>new Date(o).toLocaleDateString(),formatPrice:o=>Number(o).toFixed(2),estadoClase:o=>({pendiente:"bg-yellow-100 text-yellow-800",pagada:"bg-green-100 text-green-800"})[o]||"bg-gray-100 text-gray-800"}}},j={class:"flex justify-between items-center"},C={class:"text-xl font-semibold text-gray-900"},P={class:"flex gap-2"},D={class:"p-6 bg-white rounded-lg shadow"},F={class:"grid grid-cols-1 gap-6 mb-6 md:grid-cols-2"},L={class:"grid grid-cols-1 gap-2"},S={class:"flex justify-between py-2 border-b"},N={class:"flex justify-between py-2 border-b"},V={class:"flex justify-between py-2 border-b"},B={class:"grid grid-cols-1 gap-2"},E={class:"flex justify-between py-2 border-b"},T={key:0,class:"flex justify-between py-2 border-b"},I={key:1,class:"flex justify-between py-2 border-b"},z={class:"mb-6"},O={class:"overflow-x-auto"},U={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},A={class:"px-6 py-4 whitespace-nowrap"},G={class:"px-6 py-4 whitespace-nowrap"},H={class:"px-6 py-4 whitespace-nowrap"},J={class:"px-6 py-4 whitespace-nowrap"},K={class:"px-6 py-4 whitespace-nowrap font-bold"},M={class:"flex justify-end"};function Q(x,e,a,o,R,W){const n=u("Link"),y=u("SidebarLayout");return d(),b(y,null,{header:i(()=>[t("div",j,[t("h2",C," Factura "+s(a.factura.numero),1),t("div",P,[c(n,{href:`/facturas/${a.factura.id}/pdf`,class:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700"},{default:i(()=>e[0]||(e[0]=[f(" Descargar PDF ")])),_:1},8,["href"]),c(n,{href:`/facturas/${a.factura.id}/edit`,class:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700"},{default:i(()=>e[1]||(e[1]=[f(" Editar ")])),_:1},8,["href"])])])]),default:i(()=>[t("div",D,[t("div",F,[t("div",null,[e[5]||(e[5]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Información de la Factura",-1)),t("dl",L,[t("div",S,[e[2]||(e[2]=t("dt",{class:"font-medium text-gray-500"},"Número:",-1)),t("dd",null,s(a.factura.numero),1)]),t("div",N,[e[3]||(e[3]=t("dt",{class:"font-medium text-gray-500"},"Fecha:",-1)),t("dd",null,s(o.formatDate(a.factura.fecha)),1)]),t("div",V,[e[4]||(e[4]=t("dt",{class:"font-medium text-gray-500"},"Estado:",-1)),t("dd",null,[t("span",{class:p([o.estadoClase(a.factura.estado),"px-2 py-1 text-xs rounded-full"])},s(a.factura.estado),3)])])])]),t("div",null,[e[9]||(e[9]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Información del Cliente",-1)),t("dl",B,[t("div",E,[e[6]||(e[6]=t("dt",{class:"font-medium text-gray-500"},"Nombre:",-1)),t("dd",null,s(a.factura.cliente.nombre),1)]),a.factura.cliente.email?(d(),l("div",T,[e[7]||(e[7]=t("dt",{class:"font-medium text-gray-500"},"Email:",-1)),t("dd",null,s(a.factura.cliente.email),1)])):m("",!0),a.factura.cliente.telefono?(d(),l("div",I,[e[8]||(e[8]=t("dt",{class:"font-medium text-gray-500"},"Teléfono:",-1)),t("dd",null,s(a.factura.cliente.telefono),1)])):m("",!0)])])]),t("div",z,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Productos",-1)),t("div",O,[t("table",U,[e[11]||(e[11]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Producto "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Cantidad "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Precio Unitario "),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Subtotal ")])],-1)),t("tbody",q,[(d(!0),l(_,null,w(a.factura.productos,r=>(d(),l("tr",{key:r.id},[t("td",A,s(r.nombre),1),t("td",G,s(r.pivot.cantidad),1),t("td",H,s(o.formatPrice(r.pivot.precio_unitario))+"€ ",1),t("td",J,s(o.formatPrice(r.pivot.subtotal))+"€ ",1)]))),128))]),t("tfoot",null,[t("tr",null,[e[10]||(e[10]=t("td",{colspan:"3",class:"px-6 py-4 text-right font-medium"}," Total: ",-1)),t("td",K,s(o.formatPrice(a.factura.total))+"€ ",1)])])])])]),t("div",M,[c(n,{href:"/facturas",class:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50"},{default:i(()=>e[13]||(e[13]=[f(" Volver a Facturas ")])),_:1})])])]),_:1})}const $=v(k,[["render",Q]]);export{$ as default};
